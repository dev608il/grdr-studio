html
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GRDR STUDIO - ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #f5f5f5; color: #333; }
        .sidebar { position: fixed; left: 0; top: 0; width: 250px; height: 100vh; background: #2c3e50; color: white; overflow-y: auto; z-index: 1000; }
        .sidebar-header { padding: 20px; background: #34495e; text-align: center; }
        .sidebar-header h2 { color: #ff6b6b; font-size: 20px; }
        .sidebar-menu { list-style: none; padding: 20px 0; }
        .sidebar-menu li { margin-bottom: 5px; }
        .sidebar-menu a { display: flex; align-items: center; padding: 15px 20px; color: #ecf0f1; text-decoration: none; transition: background 0.3s; }
        .sidebar-menu a:hover, .sidebar-menu a.active { background: #ff6b6b; }
        .main-content { margin-left: 250px; padding: 20px; }
        .admin-header { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center; }
        .admin-header h1 { color: #2c3e50; }
        .admin-user { display: flex; align-items: center; gap: 10px; }
        .logout-btn { background: #e74c3c; color: white; border: none; padding: 8px 16px; border-radius: 5px; cursor: pointer; transition: background 0.3s; }
        .logout-btn:hover { background: #c0392b; }
        .dashboard-cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .dashboard-card { background: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); text-align: center; transition: transform 0.3s; }
        .dashboard-card:hover { transform: translateY(-5px); }
        .dashboard-card .icon { font-size: 48px; margin-bottom: 15px; }
        .dashboard-card h3 { font-size: 24px; margin-bottom: 10px; color: #2c3e50; }
        .dashboard-card p { color: #7f8c8d; font-size: 14px; }
        .content-section { background: white; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); margin-bottom: 20px; display: none; }
        .content-section.active { display: block; }
        .section-header { padding: 20px; border-bottom: 1px solid #ecf0f1; display: flex; justify-content: space-between; align-items: center; }
        .section-header h2 { color: #2c3e50; }
        .btn { padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; font-size: 14px; transition: background 0.3s; margin: 2px; }
        .btn-primary { background: #ff6b6b; color: white; }
        .btn-primary:hover { background: #ff5252; }
        .btn-warning { background: #f39c12; color: white; }
        .btn-danger { background: #e74c3c; color: white; }
        .data-table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        .data-table th, .data-table td { padding: 12px; text-align: left; border-bottom: 1px solid #ecf0f1; }
        .data-table th { background: #f8f9fa; font-weight: 600; color: #2c3e50; }
        .data-table tr:hover { background: #f8f9fa; }
        .status-badge { padding: 4px 8px; border-radius: 12px; font-size: 12px; font-weight: 600; }
        .status-pending { background: #fff3cd; color: #856404; }
        .status-processing { background: #cce5ff; color: #004085; }
        .status-completed { background: #d4edda; color: #155724; }
        @media (max-width: 768px) { .sidebar { transform: translateX(-100%); transition: transform 0.3s; } .main-content { margin-left: 0; } .dashboard-cards { grid-template-columns: 1fr; } }
            /* ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
            .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
        }

        .modal-content {
            background: white;
            margin: 2% auto;
            padding: 0;
            border-radius: 10px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            border-bottom: 1px solid #ecf0f1;
        }

        .modal-header h3 {
            color: #2c3e50;
            margin: 0;
        }

        .close {
            font-size: 24px;
            cursor: pointer;
            color: #aaa;
            font-weight: bold;
        }

        .close:hover {
            color: #000;
        }

        .form-group {
            margin-bottom: 20px;
            padding: 0 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
        }

        .form-control {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
        }

        .form-control:focus {
            outline: none;
            border-color: #ff6b6b;
        }

        textarea.form-control {
            resize: vertical;
            min-height: 100px;
        }

        .modal-footer {
            padding: 20px;
            border-top: 1px solid #ecf0f1;
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        .product-image {
            width: 60px;
            height: 60px;
            object-fit: cover;
            border-radius: 5px;
        }

        .no-image {
            width: 60px;
            height: 60px;
            background: #f8f9fa;
            border: 1px dashed #dee2e6;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            color: #6c757d;
        }
        .category-preview {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .category-icon {
            font-size: 20px;
        }

        .category-count {
            background: #e9ecef;
            color: #495057;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 12px;
        }

        .status-active {
            background: #d4edda;
            color: #155724;
        }

        .status-inactive {
            background: #f8d7da;
            color: #721c24;
        }

    </style>
</head>
<body>
    <div class="sidebar">
        <div class="sidebar-header">
            <h2>GRDR STUDIO</h2>
            <p>ê´€ë¦¬ì íŒ¨ë„</p>
        </div>
        <ul class="sidebar-menu">
            <li><a href="#dashboard" class="menu-link active" data-section="dashboard">ğŸ“Š ëŒ€ì‹œë³´ë“œ</a></li>
            <li><a href="#categories" class="menu-link" data-section="categories">ğŸ“ ì¹´í…Œê³ ë¦¬ ê´€ë¦¬</a></li>
            <li><a href="#products" class="menu-link" data-section="products">ğŸ“¦ ìƒí’ˆ ê´€ë¦¬</a></li>
            <li><a href="#orders" class="menu-link" data-section="orders">ğŸ›’ ì£¼ë¬¸ ê´€ë¦¬</a></li>
            <li><a href="#reviews" class="menu-link" data-section="reviews">â­ ë¦¬ë·° ê´€ë¦¬</a></li>
            <li><a href="#customers" class="menu-link" data-section="customers">ğŸ‘¥ ê³ ê° ê´€ë¦¬</a></li>
            <li><a href="#inquiries" class="menu-link" data-section="inquiries">ğŸ’¬ ë¬¸ì˜ ê´€ë¦¬</a></li>
            <li><a href="#admins" class="menu-link" data-section="admins">ğŸ” ê´€ë¦¬ì ê³„ì •</a></li>
        </ul>
    </div>
    <div class="main-content">
        <div class="admin-header">
            <h1>ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ</h1>
            <div class="admin-user">
    <span id="adminWelcome">ê´€ë¦¬ìë‹˜ í™˜ì˜í•©ë‹ˆë‹¤!</span>
    <button class="logout-btn">ë¡œê·¸ì•„ì›ƒ</button>
</div>

        </div>
        <div id="dashboard" class="content-section active">
            <div class="dashboard-cards">
                <div class="dashboard-card"><div class="icon">ğŸ“¦</div><h3>156</h3><p>ì´ ìƒí’ˆ ìˆ˜</p></div>
                <div class="dashboard-card"><div class="icon">ğŸ›’</div><h3>89</h3><p>ì˜¤ëŠ˜ ì£¼ë¬¸</p></div>
                <div class="dashboard-card"><div class="icon">ğŸ‘¥</div><h3>1,234</h3><p>ì´ ê³ ê° ìˆ˜</p></div>
                <div class="dashboard-card"><div class="icon">ğŸ’°</div><h3>â‚©2,450,000</h3><p>ì´ë²ˆ ë‹¬ ë§¤ì¶œ</p></div>
            </div>
            <div class="section-header"><h2>ìµœê·¼ ì£¼ë¬¸ í˜„í™©</h2></div>
            <table class="data-table">
                <thead><tr><th>ì£¼ë¬¸ë²ˆí˜¸</th><th>ê³ ê°ëª…</th><th>ìƒí’ˆ</th><th>ê¸ˆì•¡</th><th>ìƒíƒœ</th><th>ì£¼ë¬¸ì¼ì‹œ</th></tr></thead>
                <tbody>
                    <tr><td>#ORD001</td><td>ê¹€ë¯¼ì§€</td><td>ê·€ì—¬ìš´ ê³ ì–‘ì´ ìŠ¤í‹°ì»¤ ì„¸íŠ¸</td><td>â‚©15,000</td><td><span class="status-badge status-processing">ë°°ì†¡ì¤‘</span></td><td>2024-01-15 14:30</td></tr>
                    <tr><td>#ORD002</td><td>ì´ì„œì—°</td><td>íŒŒìŠ¤í…” ë§ˆìŠ¤í‚¹í…Œì´í”„ 5ì¢…</td><td>â‚©25,000</td><td><span class="status-badge status-completed">ë°°ì†¡ì™„ë£Œ</span></td><td>2024-01-15 13:15</td></tr>
                </tbody>
            </table>
        </div>
                <!-- ì¹´í…Œê³ ë¦¬ ê´€ë¦¬ ì„¹ì…˜ -->
                <div id="categories" class="content-section">
                    <div class="section-header">
                        <h2>ì¹´í…Œê³ ë¦¬ ê´€ë¦¬</h2>
                        <button class="btn btn-primary" onclick="openCategoryModal()">ìƒˆ ì¹´í…Œê³ ë¦¬ ì¶”ê°€</button>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ì¹´í…Œê³ ë¦¬ ID</th>
                                <th>ì¹´í…Œê³ ë¦¬ëª…</th>
                                <th>ì˜ë¬¸ëª… (URLìš©)</th>
                                <th>ì•„ì´ì½˜</th>
                                <th>ìƒí’ˆ ìˆ˜</th>
                                <th>ìƒíƒœ</th>
                                <th>ê´€ë¦¬</th>
                            </tr>
                        </thead>
                        <tbody id="categoryTableBody">
                            <!-- ì¹´í…Œê³ ë¦¬ ëª©ë¡ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                        </tbody>
                    </table>
                </div>
        
                <!-- ì¹´í…Œê³ ë¦¬ ë“±ë¡/ìˆ˜ì • ëª¨ë‹¬ -->
                <div id="categoryModal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3 id="categoryModalTitle">ìƒˆ ì¹´í…Œê³ ë¦¬ ì¶”ê°€</h3>
                            <span class="close" onclick="closeCategoryModal()">&times;</span>
                        </div>
                        <form id="categoryForm">
                            <div class="form-group">
                                <label for="categoryName">ì¹´í…Œê³ ë¦¬ëª… *</label>
                                <input type="text" id="categoryName" class="form-control" required placeholder="ì˜ˆ: ìŠ¤í‹°ì»¤">
                            </div>
                            <div class="form-group">
                                <label for="categorySlug">ì˜ë¬¸ëª… (URLìš©) *</label>
                                <input type="text" id="categorySlug" class="form-control" required placeholder="ì˜ˆ: stickers">
                                <small style="color: #666; font-size: 12px;">ì˜ë¬¸, ìˆ«ì, í•˜ì´í”ˆ(-)ë§Œ ì‚¬ìš© ê°€ëŠ¥</small>
                            </div>
                            <div class="form-group">
                                <label for="categoryIcon">ì•„ì´ì½˜ (ì´ëª¨ì§€)</label>
                                <input type="text" id="categoryIcon" class="form-control" placeholder="ì˜ˆ: ğŸ·ï¸">
                                <small style="color: #666; font-size: 12px;">ì´ëª¨ì§€ë¥¼ ë³µì‚¬í•´ì„œ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”</small>
                            </div>
                            <div class="form-group">
                                <label for="categoryDescription">ì¹´í…Œê³ ë¦¬ ì„¤ëª…</label>
                                <textarea id="categoryDescription" class="form-control" rows="3" placeholder="ì¹´í…Œê³ ë¦¬ì— ëŒ€í•œ ê°„ë‹¨í•œ ì„¤ëª…"></textarea>
                            </div>
                            <div class="form-group">
                                <label for="categoryStatus">ìƒíƒœ</label>
                                <select id="categoryStatus" class="form-control">
                                    <option value="active">í™œì„±</option>
                                    <option value="inactive">ë¹„í™œì„±</option>
                                </select>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" onclick="closeCategoryModal()">ì·¨ì†Œ</button>
                                <button type="submit" class="btn btn-primary">ì €ì¥</button>
                            </div>
                           
        
                        </form>
                    </div>
                </div>
        
                <div id="products" class="content-section">
                    <div class="section-header">
                        <h2>ìƒí’ˆ ê´€ë¦¬</h2>
                        <button class="btn btn-primary" onclick="openProductModal()">ìƒˆ ìƒí’ˆ ë“±ë¡</button>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ìƒí’ˆID</th>
                                <th>ì´ë¯¸ì§€</th>
                                <th>ìƒí’ˆëª…</th>
                                <th>ì¹´í…Œê³ ë¦¬</th>
                                <th>ê°€ê²©</th>
                                <th>ì¬ê³ </th>
                                <th>ìƒíƒœ</th>
                                <th>ê´€ë¦¬</th>
                            </tr>
                        </thead>
                        <tbody id="productTableBody">
                            <!-- ìƒí’ˆ ëª©ë¡ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                        </tbody>
                    </table>
                </div>
        
                <!-- ìƒí’ˆ ë“±ë¡/ìˆ˜ì • ëª¨ë‹¬ -->
                <div id="productModal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3 id="modalTitle">ìƒˆ ìƒí’ˆ ë“±ë¡</h3>
                            <span class="close" onclick="closeProductModal()">&times;</span>
                        </div>
                        <form id="productForm">
                            <div class="form-group">
                                <label for="productName">ìƒí’ˆëª… *</label>
                                <input type="text" id="productName" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="productCategory">ì¹´í…Œê³ ë¦¬ *</label>
                                <select id="productCategory" class="form-control" required>
                                    <option value="">ì¹´í…Œê³ ë¦¬ ì„ íƒ</option>
                                    <option value="stickers">ìŠ¤í‹°ì»¤</option>
                                    <option value="masking-tape">ë§ˆìŠ¤í‚¹í…Œì´í”„</option>
                                    <option value="clips">ìºë¦­í„° í´ë¦½</option>
                                    <option value="memo">ë©”ëª¨ì§€</option>
                                    <option value="accessories">ì•¡ì„¸ì„œë¦¬</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="productPrice">ê°€ê²© *</label>
                                <div style="position: relative;">
                                    <span style="position: absolute; left: 12px; top: 50%; transform: translateY(-50%); color: #666; font-weight: 600;">â‚©</span>
                                    <input type="text" id="productPrice" class="form-control" required placeholder="ì˜ˆ: 15000" 
                                           style="padding-left: 30px;" 
                                           oninput="formatPrice(this)"
                                           onkeypress="return isNumberKey(event)">
                                </div>
                                <small style="color: #666; font-size: 12px;">ìˆ«ìë§Œ ì…ë ¥í•˜ì„¸ìš” (ì‰¼í‘œëŠ” ìë™ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤)</small>
                            </div>
        
                            <div class="form-group">
                                <label for="productStock">ì¬ê³  ìˆ˜ëŸ‰ *</label>
                                <div style="position: relative;">
                                    <input type="text" id="productStock" class="form-control" required placeholder="ì˜ˆ: 50" 
                                           oninput="formatStock(this)"
                                           onkeypress="return isNumberKey(event)">
                                    <span style="position: absolute; right: 12px; top: 50%; transform: translateY(-50%); color: #666; font-weight: 600;">ê°œ</span>
                                </div>
                                <small style="color: #666; font-size: 12px;">ìˆ«ìë§Œ ì…ë ¥í•˜ì„¸ìš” (ì‰¼í‘œëŠ” ìë™ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤)</small>
                            </div>
        
                            <div class="form-group">
                                <label for="productImage">ìƒí’ˆ ì´ë¯¸ì§€ URL</label>
                                <input type="url" id="productImage" class="form-control" placeholder="https://example.com/image.jpg">
                            </div>
                            <div class="form-group">
                                <label for="productDescription">ìƒí’ˆ ì„¤ëª…</label>
                                <textarea id="productDescription" class="form-control" rows="4" placeholder="ìƒí’ˆì— ëŒ€í•œ ìì„¸í•œ ì„¤ëª…ì„ ì…ë ¥í•˜ì„¸ìš”"></textarea>
                            </div>
                            <div class="form-group">
                                <label for="productStatus">íŒë§¤ ìƒíƒœ</label>
                                <select id="productStatus" class="form-control">
                                    <option value="active">íŒë§¤ì¤‘</option>
                                    <option value="inactive">íŒë§¤ì¤‘ì§€</option>
                                    <option value="soldout">í’ˆì ˆ</option>
                                </select>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" onclick="closeProductModal()">ì·¨ì†Œ</button>
                                <button type="submit" class="btn btn-primary">ì €ì¥</button>
                            </div>
                        </form>
                    </div>
                </div>
        
        <div id="orders" class="content-section">
            <div class="section-header"><h2>ì£¼ë¬¸ ê´€ë¦¬</h2></div>
            <table class="data-table">
                <thead><tr><th>ì£¼ë¬¸ë²ˆí˜¸</th><th>ê³ ê°ëª…</th><th>ìƒí’ˆ</th><th>ìˆ˜ëŸ‰</th><th>ê¸ˆì•¡</th><th>ìƒíƒœ</th><th>ê´€ë¦¬</th></tr></thead>
                <tbody>
                    <tr><td>#ORD001</td><td>ê¹€ë¯¼ì§€</td><td>ê³ ì–‘ì´ ìŠ¤í‹°ì»¤</td><td>2ê°œ</td><td>â‚©30,000</td><td><span class="status-badge status-processing">ë°°ì†¡ì¤‘</span></td><td><button class="btn btn-warning">ìƒíƒœë³€ê²½</button></td></tr>
                </tbody>
            </table>
        </div>
        <div id="reviews" class="content-section">
            <div class="section-header">
                <h2>ë¦¬ë·° ê´€ë¦¬</h2>
                <div>
                    <select id="reviewFilter" onchange="filterReviews()" style="padding: 8px; margin-right: 10px; border-radius: 5px; border: 1px solid #ddd;">
                        <option value="all">ì „ì²´ ë¦¬ë·°</option>
                        <option value="5">â­â­â­â­â­ (5ì )</option>
                        <option value="4">â­â­â­â­ (4ì )</option>
                        <option value="3">â­â­â­ (3ì )</option>
                        <option value="2">â­â­ (2ì )</option>
                        <option value="1">â­ (1ì )</option>
                    </select>
                </div>
            </div>
            <table class="data-table">
                <thead>
                    <tr>
                        <th>ë¦¬ë·°ID</th>
                        <th>ìƒí’ˆëª…</th>
                        <th>ê³ ê°ëª…</th>
                        <th>í‰ì </th>
                        <th>ë¦¬ë·° ë‚´ìš©</th>
                        <th>ì‘ì„±ì¼</th>
                        <th>ìƒíƒœ</th>
                        <th>ê´€ë¦¬</th>
                    </tr>
                </thead>
                <tbody id="reviewTableBody">
                    <!-- ë¦¬ë·° ëª©ë¡ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                </tbody>
            </table>
        </div>
        <div id="customers" class="content-section">
            <div class="section-header"><h2>ê³ ê° ê´€ë¦¬</h2></div>
            <p style="padding: 20px;">ê³ ê° ê´€ë¦¬ ê¸°ëŠ¥ (ê°œë°œ ì˜ˆì •)</p>
        </div>
        <div id="inquiries" class="content-section">
            <div class="section-header"><h2>ë¬¸ì˜ ê´€ë¦¬</h2></div>
            <p style="padding: 20px;">ë¬¸ì˜ ê´€ë¦¬ ê¸°ëŠ¥ (ê°œë°œ ì˜ˆì •)</p>
        </div>
                <!-- ê´€ë¦¬ì ê³„ì • ê´€ë¦¬ ì„¹ì…˜ -->
        <div id="admins" class="content-section">
            <div class="section-header">
                <h2>ê´€ë¦¬ì ê³„ì • ê´€ë¦¬</h2>
                <button class="btn btn-primary" onclick="openAdminModal()">ìƒˆ ê´€ë¦¬ì ì¶”ê°€</button>
            </div>
            <table class="data-table">
                <thead>
                    <tr>
                        <th>ê´€ë¦¬ìID</th>
                        <th>ì•„ì´ë””</th>
                        <th>ì´ë¦„</th>
                        <th>ê¶Œí•œ</th>
                        <th>ìƒì„±ì¼</th>
                        <th>ìµœê·¼ ë¡œê·¸ì¸</th>
                        <th>ìƒíƒœ</th>
                        <th>ê´€ë¦¬</th>
                    </tr>
                </thead>
                <tbody id="adminTableBody">
                    <!-- ê´€ë¦¬ì ëª©ë¡ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                </tbody>
            </table>
        </div>

        <!-- ê´€ë¦¬ì ì¶”ê°€/ìˆ˜ì • ëª¨ë‹¬ -->
        <div id="adminModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="adminModalTitle">ìƒˆ ê´€ë¦¬ì ì¶”ê°€</h3>
                    <span class="close" onclick="closeAdminModal()">&times;</span>
                </div>
                <form id="adminForm">
                    <div class="form-group">
                        <label for="adminUsername">ì•„ì´ë”” *</label>
                        <input type="text" id="adminUsername" class="form-control" required placeholder="ì˜ë¬¸, ìˆ«ì 4-20ì">
                        <small style="color: #666; font-size: 12px;">ì˜ë¬¸, ìˆ«ì ì¡°í•© 4-20ì</small>
                    </div>
                    <div class="form-group">
                        <label for="adminPassword">ë¹„ë°€ë²ˆí˜¸ *</label>
                        <input type="password" id="adminPassword" class="form-control" required placeholder="8ì ì´ìƒ">
                        <small style="color: #666; font-size: 12px;">ì˜ë¬¸, ìˆ«ì í¬í•¨ 8ì ì´ìƒ</small>
                    </div>
                    <div class="form-group">
                        <label for="adminConfirmPassword">ë¹„ë°€ë²ˆí˜¸ í™•ì¸ *</label>
                        <input type="password" id="adminConfirmPassword" class="form-control" required placeholder="ë¹„ë°€ë²ˆí˜¸ ë‹¤ì‹œ ì…ë ¥">
                    </div>
                    <div class="form-group">
                        <label for="adminName">ì´ë¦„ *</label>
                        <input type="text" id="adminName" class="form-control" required placeholder="ê´€ë¦¬ì ì´ë¦„">
                    </div>
                    <div class="form-group">
                        <label for="adminRole">ê¶Œí•œ *</label>
                        <select id="adminRole" class="form-control" required>
                            <option value="">ê¶Œí•œ ì„ íƒ</option>
                            <option value="super">ìµœê³  ê´€ë¦¬ì</option>
                            <option value="admin">ì¼ë°˜ ê´€ë¦¬ì</option>
                            <option value="staff">ì§ì›</option>
                        </select>
                        <small style="color: #666; font-size: 12px;">
                            ìµœê³  ê´€ë¦¬ì: ëª¨ë“  ê¶Œí•œ | ì¼ë°˜ ê´€ë¦¬ì: ìƒí’ˆ/ì£¼ë¬¸ ê´€ë¦¬ | ì§ì›: ì£¼ë¬¸ ì²˜ë¦¬ë§Œ
                        </small>
                    </div>
                    <div class="form-group">
                        <label for="adminStatus">ìƒíƒœ</label>
                        <select id="adminStatus" class="form-control">
                            <option value="active">í™œì„±</option>
                            <option value="inactive">ë¹„í™œì„±</option>
                        </select>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" onclick="closeAdminModal()">ì·¨ì†Œ</button>
                        <button type="submit" class="btn btn-primary">ì €ì¥</button>
                    </div>
                </form>
            </div>
        </div>

                <!-- ë¦¬ë·° ìƒì„¸ë³´ê¸° ëª¨ë‹¬ -->
        <div id="reviewDetailModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>ë¦¬ë·° ìƒì„¸ ë‚´ìš©</h3>
                    <span class="close" onclick="closeReviewDetailModal()">&times;</span>
                </div>
                <div style="padding: 20px;">
                    <div class="review-detail-info">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                            <div>
                                <strong>ë¦¬ë·° ID:</strong> <span id="detailReviewId"></span>
                            </div>
                            <div>
                                <strong>ì‘ì„±ì¼:</strong> <span id="detailReviewDate"></span>
                            </div>
                            <div>
                                <strong>ìƒí’ˆëª…:</strong> <span id="detailProductName"></span>
                            </div>
                            <div>
                                <strong>ê³ ê°ëª…:</strong> <span id="detailCustomerName"></span>
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 20px;">
                            <strong>í‰ì :</strong> 
                            <span id="detailRating" style="font-size: 18px; color: #ff6b6b;"></span>
                        </div>
                        
                        <div style="margin-bottom: 20px;">
                            <strong>ë¦¬ë·° ë‚´ìš©:</strong>
                            <div id="detailReviewContent" style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-top: 10px; line-height: 1.6; min-height: 100px;"></div>
                        </div>
                        
                        <div>
                            <strong>í˜„ì¬ ìƒíƒœ:</strong> 
                            <span id="detailReviewStatus" class="status-badge"></span>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" onclick="closeReviewDetailModal()">ë‹«ê¸°</button>
                </div>
            </div>
        </div>

    </div>
    <script>
        // ë³´ì•ˆ ì²´í¬
        if (!sessionStorage.getItem('adminLoggedIn')) {
            alert('ê´€ë¦¬ì ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
            window.location.href = 'admin-login.html';
        }

        // ë°ì´í„° ì €ì¥ì†Œ
        let categories = JSON.parse(localStorage.getItem('categories')) || [
            { id: 1, name: 'ìŠ¤í‹°ì»¤', slug: 'stickers', icon: 'ğŸ·ï¸', description: 'ë‹¤ì–‘í•œ ìºë¦­í„° ìŠ¤í‹°ì»¤', status: 'active' },
            { id: 2, name: 'ë§ˆìŠ¤í‚¹í…Œì´í”„', slug: 'masking-tape', icon: 'ğŸ€', description: 'ì˜ˆìœ ë§ˆìŠ¤í‚¹í…Œì´í”„', status: 'active' },
            { id: 3, name: 'ìºë¦­í„° í´ë¦½', slug: 'clips', icon: 'ğŸ“', description: 'ê·€ì—¬ìš´ ìºë¦­í„° í´ë¦½', status: 'active' },
            { id: 4, name: 'ë©”ëª¨ì§€', slug: 'memo', icon: 'ğŸ“', description: 'ì‚¬ë‘ìŠ¤ëŸ¬ìš´ ë©”ëª¨ì§€', status: 'active' }
        ];

        let products = JSON.parse(localStorage.getItem('products')) || [
            { id: 1, name: 'ê·€ì—¬ìš´ ê³ ì–‘ì´ ìŠ¤í‹°ì»¤ ì„¸íŠ¸', category: 'stickers', price: 15000, stock: 50, image: '', description: 'ë‹¤ì–‘í•œ í‘œì •ì˜ ê·€ì—¬ìš´ ê³ ì–‘ì´ ìŠ¤í‹°ì»¤', status: 'active' },
            { id: 2, name: 'íŒŒìŠ¤í…” ë§ˆìŠ¤í‚¹í…Œì´í”„ 5ì¢…', category: 'masking-tape', price: 25000, stock: 30, image: '', description: 'íŒŒìŠ¤í…” í†¤ì˜ ì˜ˆìœ ë§ˆìŠ¤í‚¹í…Œì´í”„ ì„¸íŠ¸', status: 'active' }
        ];
        let reviews = JSON.parse(localStorage.getItem('reviews')) || [
    { id: 1, productId: 1, customerName: 'ê¹€**', rating: 5, content: 'ì •ë§ ê·€ì—½ê³  í’ˆì§ˆë„ ì¢‹ì•„ìš”! ë‹¤ì´ì–´ë¦¬ ê¾¸ë¯¸ê¸°ì— ë”± ì¢‹ë„¤ìš” ğŸ˜Š', date: '2024-01-15', status: 'approved' },
    { id: 2, productId: 1, customerName: 'ì´**', rating: 5, content: 'ë°°ì†¡ë„ ë¹ ë¥´ê³  í¬ì¥ë„ ê¹”ë”í•˜ê²Œ ì˜ ë˜ì–´ìˆì–´ìš”. ì¬êµ¬ë§¤ ì˜ì‚¬ ìˆìŠµë‹ˆë‹¤!', date: '2024-01-12', status: 'approved' },
    { id: 3, productId: 2, customerName: 'ë°•**', rating: 4, content: 'ìƒê°ë³´ë‹¤ í¬ê¸°ê°€ ì‘ì•˜ì§€ë§Œ ë””ìì¸ì´ ë„ˆë¬´ ì˜ˆë»ì„œ ë§Œì¡±í•´ìš”!', date: '2024-01-10', status: 'approved' },
    { id: 4, productId: 1, customerName: 'ìµœ**', rating: 3, content: 'ë³´í†µì´ì—ìš”. ê°€ê²© ëŒ€ë¹„ ê·¸ëŸ­ì €ëŸ­...', date: '2024-01-08', status: 'pending' }
];

let admins = JSON.parse(localStorage.getItem('admins')) || [
    { id: 1, username: 'admin', password: 'grdr2024', name: 'ìµœê³ ê´€ë¦¬ì', role: 'super', status: 'active', createdDate: '2024-01-01', lastLogin: '2024-01-15 14:30' }
];

        let editingCategoryId = null;
        let editingProductId = null;

        // í˜ì´ì§€ ë¡œë”© ì™„ë£Œ í›„ ì‹¤í–‰
        document.addEventListener('DOMContentLoaded', function() {
            // ë©”ë‰´ í´ë¦­ ì´ë²¤íŠ¸
            const menuLinks = document.querySelectorAll('.menu-link');
            const contentSections = document.querySelectorAll('.content-section');

            menuLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    menuLinks.forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                    contentSections.forEach(section => section.classList.remove('active'));
                    
                    const targetSection = this.getAttribute('data-section');
                    const targetElement = document.getElementById(targetSection);
                    if (targetElement) {
                        targetElement.classList.add('active');
                        
                        // ê° ì„¹ì…˜ë³„ ë°ì´í„° ë¡œë”©
                        if (targetSection === 'categories') {
                            loadCategories();
                        } else if (targetSection === 'products') {
                            loadProducts();
                            loadCategoryOptions();
                        }
                        }
                        if (targetSection === 'reviews') {
                            loadReviews();
                            }
                        if (targetSection === 'admins') {
                            loadAdmins();
                            }

                });
            });

            // ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼
            const logoutBtn = document.querySelector('.logout-btn');
            if (logoutBtn) {
                logoutBtn.addEventListener('click', function() {
                    if (confirm('ì •ë§ ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                        sessionStorage.clear();
                        alert('ë¡œê·¸ì•„ì›ƒ ë˜ì—ˆìŠµë‹ˆë‹¤.');
                        window.location.href = 'admin-login.html';
                    }
                });
            }
                
    // â­ ì—¬ê¸°ì— ê´€ë¦¬ì ì •ë³´ í‘œì‹œ ì½”ë“œ ì¶”ê°€!   
            const currentAdmin = JSON.parse(sessionStorage.getItem('currentAdmin') || '{}');
    if (currentAdmin.name) {
        const roleText = currentAdmin.role === 'super' ? 'ìµœê³ ê´€ë¦¬ì' : 
                        currentAdmin.role === 'admin' ? 'ì¼ë°˜ê´€ë¦¬ì' : 'ì§ì›';
        document.getElementById('adminWelcome').textContent = `${currentAdmin.name}(${roleText})ë‹˜ í™˜ì˜í•©ë‹ˆë‹¤!`;
    }
            // í¼ ì´ë²¤íŠ¸ ë“±ë¡
            setupForms();
            
            // ì´ˆê¸° ë°ì´í„° ë¡œë”©
            loadCategories();
            loadProducts();
            loadCategoryOptions();
            });

             // ì¹´í…Œê³ ë¦¬ ê´€ë ¨ í•¨ìˆ˜ë“¤
             function loadCategories() {
            const tbody = document.getElementById('categoryTableBody');
            if (!tbody) return;
            
            tbody.innerHTML = '';
            
            categories.forEach(category => {
                const productCount = products.filter(p => p.category === category.slug).length;
                const row = `
                    <tr>
                        <td>#C${category.id.toString().padStart(3, '0')}</td>
                        <td>
                            <div class="category-preview">
                                <span class="category-icon">${category.icon}</span>
                                <span>${category.name}</span>
                            </div>
                        </td>
                        <td>${category.slug}</td>
                        <td>${category.icon}</td>
                        <td><span class="category-count">${productCount}ê°œ</span></td>
                        <td><span class="status-badge status-${category.status}">${category.status === 'active' ? 'í™œì„±' : 'ë¹„í™œì„±'}</span></td>
                        <td>
                            <button class="btn btn-warning" onclick="editCategory(${category.id})">ìˆ˜ì •</button>
                            <button class="btn btn-danger" onclick="deleteCategory(${category.id})">ì‚­ì œ</button>
                        </td>
                    </tr>
                `;
                tbody.innerHTML += row;
            });
         }

            function openCategoryModal() {
            editingCategoryId = null;
            document.getElementById('categoryModalTitle').textContent = 'ìƒˆ ì¹´í…Œê³ ë¦¬ ì¶”ê°€';
            document.getElementById('categoryForm').reset();
            document.getElementById('categoryModal').style.display = 'block';
            }

         function closeCategoryModal() {
            document.getElementById('categoryModal').style.display = 'none';
         }

            function editCategory(id) {
            const category = categories.find(c => c.id === id);
            if (!category) return;
            
            editingCategoryId = id;
            document.getElementById('categoryModalTitle').textContent = 'ì¹´í…Œê³ ë¦¬ ìˆ˜ì •';
            document.getElementById('categoryName').value = category.name;
            document.getElementById('categorySlug').value = category.slug;
            document.getElementById('categoryIcon').value = category.icon;
            document.getElementById('categoryDescription').value = category.description || '';
            document.getElementById('categoryStatus').value = category.status;
            document.getElementById('categoryModal').style.display = 'block';
            }

            function deleteCategory(id) {
            const category = categories.find(c => c.id === id);
            const productCount = products.filter(p => p.category === category.slug).length;
            
            if (productCount > 0) {
                alert(`ì´ ì¹´í…Œê³ ë¦¬ì— ${productCount}ê°œì˜ ìƒí’ˆì´ ìˆì–´ì„œ ì‚­ì œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`);
                return;
            }
            
            if (confirm(`'${category.name}' ì¹´í…Œê³ ë¦¬ë¥¼ ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`)) {
                categories = categories.filter(c => c.id !== id);
                localStorage.setItem('categories', JSON.stringify(categories));
                loadCategories();
                loadCategoryOptions();
                alert('ì¹´í…Œê³ ë¦¬ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.');
            }
         }

             // ìƒí’ˆ ê´€ë ¨ í•¨ìˆ˜ë“¤
             function loadProducts() {
            const tbody = document.getElementById('productTableBody');
            if (!tbody) return;
            
            tbody.innerHTML = '';
            
            products.forEach(product => {
                const category = categories.find(c => c.slug === product.category);
                const categoryName = category ? category.name : 'ë¯¸ë¶„ë¥˜';
                
                const row = `
                    <tr>
                        <td>#P${product.id.toString().padStart(3, '0')}</td>
                        <td>
                            ${product.image ? 
                                `<img src="${product.image}" alt="${product.name}" class="product-image">` : 
                                `<div class="no-image">ì´ë¯¸ì§€ ì—†ìŒ</div>`
                            }
                        </td>
                        <td>${product.name}</td>
                        <td>${categoryName}</td>
                        <td>â‚©${product.price.toLocaleString()}</td>
                        <td>${product.stock}ê°œ</td>
                        <td><span class="status-badge status-${product.status}">${getProductStatusText(product.status)}</span></td>
                        <td>
                            <button class="btn btn-warning" onclick="editProduct(${product.id})">ìˆ˜ì •</button>
                            <button class="btn btn-danger" onclick="deleteProduct(${product.id})">ì‚­ì œ</button>
                        </td>
                    </tr>
                `;
                tbody.innerHTML += row;
            });
         }

            function loadCategoryOptions() {
            const select = document.getElementById('productCategory');
            if (!select) return;
            
            select.innerHTML = '<option value="">ì¹´í…Œê³ ë¦¬ ì„ íƒ</option>';
            
            categories.filter(c => c.status === 'active').forEach(category => {
                select.innerHTML += `<option value="${category.slug}">${category.name}</option>`;
            });
         }

         function openProductModal() {
            editingProductId = null;
            document.getElementById('modalTitle').textContent = 'ìƒˆ ìƒí’ˆ ë“±ë¡';
            document.getElementById('productForm').reset();
            document.getElementById('productModal').style.display = 'block';
         }

          function closeProductModal() {
            document.getElementById('productModal').style.display = 'none';
         }

            function editProduct(id) {
            const product = products.find(p => p.id === id);
            if (!product) return;
            
            editingProductId = id;
            document.getElementById('modalTitle').textContent = 'ìƒí’ˆ ìˆ˜ì •';
            document.getElementById('productName').value = product.name;
            document.getElementById('productCategory').value = product.category;
            document.getElementById('productPrice').value = product.price.toLocaleString();
            document.getElementById('productStock').value = product.stock.toLocaleString();
            document.getElementById('productImage').value = product.image || '';
            document.getElementById('productDescription').value = product.description || '';
            document.getElementById('productStatus').value = product.status;
            document.getElementById('productModal').style.display = 'block';
            }

         function deleteProduct(id) {
            const product = products.find(p => p.id === id);
            if (confirm(`'${product.name}' ìƒí’ˆì„ ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`)) {
                products = products.filter(p => p.id !== id);
                localStorage.setItem('products', JSON.stringify(products));
                loadProducts();
                loadCategories(); // ìƒí’ˆ ìˆ˜ ì—…ë°ì´íŠ¸
                alert('ìƒí’ˆì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.');
            }
            }

            function getProductStatusText(status) {
            switch(status) {
                case 'active': return 'íŒë§¤ì¤‘';
                case 'inactive': return 'íŒë§¤ì¤‘ì§€';
                case 'soldout': return 'í’ˆì ˆ';
                default: return 'ì•Œ ìˆ˜ ì—†ìŒ';
            }
         }

                // í¼ ì´ë²¤íŠ¸ ì„¤ì •
         function setupForms() {
            // ì¹´í…Œê³ ë¦¬ í¼
            const categoryForm = document.getElementById('categoryForm');
            if (categoryForm) {
                categoryForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    const formData = {
                        name: document.getElementById('categoryName').value,
                        slug: document.getElementById('categorySlug').value,
                        icon: document.getElementById('categoryIcon').value,
                        description: document.getElementById('categoryDescription').value,
                        status: document.getElementById('categoryStatus').value
                    };
                    
                    // ì˜ë¬¸ëª… ì¤‘ë³µ ì²´í¬
                    const existingCategory = categories.find(c => 
                        c.slug === formData.slug && c.id !== editingCategoryId
                    );
                    
                    if (existingCategory) {
                        alert('ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì˜ë¬¸ëª…ì…ë‹ˆë‹¤.');
                        return;
                    }
                    
                    if (editingCategoryId) {
                        // ìˆ˜ì •
                        const index = categories.findIndex(c => c.id === editingCategoryId);
                        categories[index] = { ...categories[index], ...formData };
                        alert('ì¹´í…Œê³ ë¦¬ê°€ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.');
                    } else {
                        // ìƒˆë¡œ ì¶”ê°€
                        const newId = Math.max(...categories.map(c => c.id), 0) + 1;
                        categories.push({ id: newId, ...formData });
                        alert('ì¹´í…Œê³ ë¦¬ê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.');
                    }
                    
                    localStorage.setItem('categories', JSON.stringify(categories));
                    loadCategories();
                    loadCategoryOptions();
                    closeCategoryModal();
                    // ê´€ë¦¬ì í¼ ì„¤ì • ì¶”ê°€
                    setupAdminForm();
                });
            }
            
            // ìƒí’ˆ í¼
            const productForm = document.getElementById('productForm');
            if (productForm) {
                productForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    const formData = {
                        name: document.getElementById('productName').value,
                        category: document.getElementById('productCategory').value,
                        price: getPriceValue(document.getElementById('productPrice')),
                        stock: getStockValue(document.getElementById('productStock')),
                        image: document.getElementById('productImage').value,
                        description: document.getElementById('productDescription').value,
                        status: document.getElementById('productStatus').value
                    };
                    
                    if (editingProductId) {
                        // ìˆ˜ì •
                        const index = products.findIndex(p => p.id === editingProductId);
                        products[index] = { ...products[index], ...formData };
                        alert('ìƒí’ˆì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.');
                    } else {
                        // ìƒˆë¡œ ì¶”ê°€
                        const newId = Math.max(...products.map(p => p.id), 0) + 1;
                        products.push({ id: newId, ...formData });
                        alert('ìƒí’ˆì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.');
                    }
                    
                    localStorage.setItem('products', JSON.stringify(products));
                    loadProducts();
                    loadCategories(); // ìƒí’ˆ ìˆ˜ ì—…ë°ì´íŠ¸
                    closeProductModal();
                });
            }
            }

            // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ì‹œ ë‹«ê¸°
            window.onclick = function(event) {
            const categoryModal = document.getElementById('categoryModal');
            const productModal = document.getElementById('productModal');
            
            if (event.target === categoryModal) {
                closeCategoryModal();
            }
            if (event.target === productModal) {
                closeProductModal();
            }
                if (event.target === reviewDetailModal) {
            closeReviewDetailModal();
            }
            }
                // ê°€ê²© ì…ë ¥ ê´€ë ¨ í•¨ìˆ˜ë“¤
                function isNumberKey(evt) {
            var charCode = (evt.which) ? evt.which : evt.keyCode;
            // ìˆ«ì(0-9)ì™€ ë°±ìŠ¤í˜ì´ìŠ¤(8), ì‚­ì œ(46)ë§Œ í—ˆìš©
            if (charCode > 31 && (charCode < 48 || charCode > 57)) {
                return false;
            }
            return true;
         }

            function formatPrice(input) {
            // ìˆ«ìê°€ ì•„ë‹Œ ë¬¸ì ì œê±°
            let value = input.value.replace(/[^0-9]/g, '');
            
            // ë¹ˆ ê°’ì´ë©´ ê·¸ëŒ€ë¡œ ë°˜í™˜
            if (value === '') {
                input.value = '';
                return;
            }
            
            // ìˆ«ìë¥¼ ì²œ ë‹¨ìœ„ë¡œ ì‰¼í‘œ ì¶”ê°€
            let formattedValue = parseInt(value).toLocaleString();
            input.value = formattedValue;
            }

            function getPriceValue(input) {
            // ì‰¼í‘œ ì œê±°í•˜ê³  ìˆ«ìë§Œ ë°˜í™˜
            return parseInt(input.value.replace(/[^0-9]/g, '')) || 0;
            }

            // ì¬ê³  ì…ë ¥ ê´€ë ¨ í•¨ìˆ˜ë“¤
            function formatStock(input) {
            // ìˆ«ìê°€ ì•„ë‹Œ ë¬¸ì ì œê±°
            let value = input.value.replace(/[^0-9]/g, '');
            
            // ë¹ˆ ê°’ì´ë©´ ê·¸ëŒ€ë¡œ ë°˜í™˜
            if (value === '') {
                input.value = '';
                return;
            }
            
            // ìˆ«ìë¥¼ ì²œ ë‹¨ìœ„ë¡œ ì‰¼í‘œ ì¶”ê°€
            let formattedValue = parseInt(value).toLocaleString();
            input.value = formattedValue;
         }

            function getStockValue(input) {
            // ì‰¼í‘œ ì œê±°í•˜ê³  ìˆ«ìë§Œ ë°˜í™˜
            return parseInt(input.value.replace(/[^0-9]/g, '')) || 0;
            }
            // ë¦¬ë·° ê´€ë¦¬ í•¨ìˆ˜ë“¤
            // ë¦¬ë·° ê´€ë¦¬ í•¨ìˆ˜ë“¤ (ì™„ì „íˆ êµì²´)
            function loadReviews() {
         const tbody = document.getElementById('reviewTableBody');
         if (!tbody) return;
    
         tbody.innerHTML = '';
    
            reviews.forEach(review => {
            const product = products.find(p => p.id === review.productId);
            const productName = product ? product.name : 'ì‚­ì œëœ ìƒí’ˆ';
            const stars = 'â­'.repeat(review.rating);
        
            const row = `
            <tr>
                <td>#R${review.id.toString().padStart(3, '0')}</td>
                <td>${productName}</td>
                <td>${review.customerName}</td>
                <td>${stars} (${review.rating}ì )</td>
                <td>
                    <div style="max-width: 200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">${review.content}</div>
                    <button class="btn" style="background: #17a2b8; color: white; font-size: 12px; padding: 4px 8px; margin-top: 5px;" onclick="showReviewDetail(${review.id})">ìƒì„¸ë³´ê¸°</button>
                </td>
                <td>${review.date}</td>
                <td><span class="status-badge status-${review.status}">${getReviewStatusText(review.status)}</span></td>
                <td>
                    <select onchange="changeReviewStatus(${review.id}, this.value)" style="padding: 5px; margin-bottom: 5px; border-radius: 3px; border: 1px solid #ddd;">
                        <option value="pending" ${review.status === 'pending' ? 'selected' : ''}>ëŒ€ê¸°ì¤‘</option>
                        <option value="approved" ${review.status === 'approved' ? 'selected' : ''}>ìŠ¹ì¸ë¨</option>
                        <option value="hidden" ${review.status === 'hidden' ? 'selected' : ''}>ìˆ¨ê¹€</option>
                    </select><br>
                    <button class="btn btn-danger" onclick="deleteReview(${review.id})" style="font-size: 12px; padding: 4px 8px;">ì‚­ì œ</button>
                </td>
            </tr>
            `;
            tbody.innerHTML += row;
            });
            }

            function getReviewStatusText(status) {
            switch(status) {
            case 'approved': return 'ìŠ¹ì¸ë¨';
            case 'pending': return 'ëŒ€ê¸°ì¤‘';
            case 'hidden': return 'ìˆ¨ê¹€';
         default: return 'ì•Œ ìˆ˜ ì—†ìŒ';
         }
         }

// ìƒˆë¡œìš´ ìƒíƒœ ë³€ê²½ í•¨ìˆ˜
function changeReviewStatus(id, newStatus) {
    const review = reviews.find(r => r.id === id);
    if (review) {
        const oldStatus = review.status;
        review.status = newStatus;
        localStorage.setItem('reviews', JSON.stringify(reviews));
        loadReviews();
        
        let message = '';
        switch(newStatus) {
            case 'approved': message = 'ë¦¬ë·°ê°€ ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤.'; break;
            case 'pending': message = 'ë¦¬ë·°ê°€ ëŒ€ê¸° ìƒíƒœë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.'; break;
            case 'hidden': message = 'ë¦¬ë·°ê°€ ìˆ¨ê¹€ ì²˜ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤.'; break;
        }
        alert(message);
    }
}

// ë¦¬ë·° ìƒì„¸ë³´ê¸° í•¨ìˆ˜
function showReviewDetail(id) {
    const review = reviews.find(r => r.id === id);
    if (!review) return;
    
    const product = products.find(p => p.id === review.productId);
    const productName = product ? product.name : 'ì‚­ì œëœ ìƒí’ˆ';
    const stars = 'â­'.repeat(review.rating);
    
    // ëª¨ë‹¬ì— ë°ì´í„° ì±„ìš°ê¸°
    document.getElementById('detailReviewId').textContent = `#R${review.id.toString().padStart(3, '0')}`;
    document.getElementById('detailReviewDate').textContent = review.date;
    document.getElementById('detailProductName').textContent = productName;
    document.getElementById('detailCustomerName').textContent = review.customerName;
    document.getElementById('detailRating').textContent = `${stars} (${review.rating}ì )`;
    document.getElementById('detailReviewContent').textContent = review.content;
    
    const statusElement = document.getElementById('detailReviewStatus');
    statusElement.textContent = getReviewStatusText(review.status);
    statusElement.className = `status-badge status-${review.status}`;
    
    // ëª¨ë‹¬ ì—´ê¸°
    document.getElementById('reviewDetailModal').style.display = 'block';
}

// ë¦¬ë·° ìƒì„¸ë³´ê¸° ëª¨ë‹¬ ë‹«ê¸°
function closeReviewDetailModal() {
    document.getElementById('reviewDetailModal').style.display = 'none';
}

function deleteReview(id) {
    if (confirm('ì´ ë¦¬ë·°ë¥¼ ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
        reviews = reviews.filter(r => r.id !== id);
        localStorage.setItem('reviews', JSON.stringify(reviews));
        loadReviews();
        alert('ë¦¬ë·°ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.');
    }
}

function filterReviews() {
    const filter = document.getElementById('reviewFilter').value;
    // í•„í„°ë§ ê¸°ëŠ¥ì€ ë‚˜ì¤‘ì— êµ¬í˜„
    loadReviews();
}

// ê´€ë¦¬ì ê´€ë¦¬ í•¨ìˆ˜ë“¤
let editingAdminId = null;

function loadAdmins() {
    const tbody = document.getElementById('adminTableBody');
    if (!tbody) return;
    
    tbody.innerHTML = '';
    
    admins.forEach(admin => {
        const row = `
            <tr>
                <td>#A${admin.id.toString().padStart(3, '0')}</td>
                <td>${admin.username}</td>
                <td>${admin.name}</td>
                <td>
                    <span class="status-badge ${getRoleClass(admin.role)}">${getRoleText(admin.role)}</span>
                </td>
                <td>${admin.createdDate}</td>
                <td>${admin.lastLogin || 'ë¡œê·¸ì¸ ê¸°ë¡ ì—†ìŒ'}</td>
                <td><span class="status-badge status-${admin.status}">${admin.status === 'active' ? 'í™œì„±' : 'ë¹„í™œì„±'}</span></td>
                <td>
                    <button class="btn btn-warning" onclick="editAdmin(${admin.id})">ìˆ˜ì •</button>
                    ${admin.id !== 1 ? `<button class="btn btn-danger" onclick="deleteAdmin(${admin.id})">ì‚­ì œ</button>` : ''}
                </td>
            </tr>
        `;
        tbody.innerHTML += row;
    });
}

function getRoleClass(role) {
    switch(role) {
        case 'super': return 'status-completed';
        case 'admin': return 'status-processing';
        case 'staff': return 'status-pending';
        default: return 'status-pending';
    }
}

function getRoleText(role) {
    switch(role) {
        case 'super': return 'ìµœê³  ê´€ë¦¬ì';
        case 'admin': return 'ì¼ë°˜ ê´€ë¦¬ì';
        case 'staff': return 'ì§ì›';
        default: return 'ì•Œ ìˆ˜ ì—†ìŒ';
    }
}

function openAdminModal() {
    editingAdminId = null;
    document.getElementById('adminModalTitle').textContent = 'ìƒˆ ê´€ë¦¬ì ì¶”ê°€';
    document.getElementById('adminForm').reset();
    document.getElementById('adminModal').style.display = 'block';
}

function closeAdminModal() {
    document.getElementById('adminModal').style.display = 'none';
}

function editAdmin(id) {
    const admin = admins.find(a => a.id === id);
    if (!admin) return;
    
    editingAdminId = id;
    document.getElementById('adminModalTitle').textContent = 'ê´€ë¦¬ì ìˆ˜ì •';
    document.getElementById('adminUsername').value = admin.username;
    document.getElementById('adminPassword').value = '';
    document.getElementById('adminConfirmPassword').value = '';
    document.getElementById('adminName').value = admin.name;
    document.getElementById('adminRole').value = admin.role;
    document.getElementById('adminStatus').value = admin.status;
    
    // ìˆ˜ì • ëª¨ë“œì—ì„œëŠ” ë¹„ë°€ë²ˆí˜¸ í•„ìˆ˜ í•´ì œ
    document.getElementById('adminPassword').required = false;
    document.getElementById('adminConfirmPassword').required = false;
    
    document.getElementById('adminModal').style.display = 'block';
}

function deleteAdmin(id) {
    const admin = admins.find(a => a.id === id);
    if (confirm(`'${admin.name}' ê´€ë¦¬ìë¥¼ ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`)) {
        admins = admins.filter(a => a.id !== id);
        localStorage.setItem('admins', JSON.stringify(admins));
        loadAdmins();
        alert('ê´€ë¦¬ìê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.');
    }
}

// ê´€ë¦¬ì í¼ ì´ë²¤íŠ¸
function setupAdminForm() {
    const adminForm = document.getElementById('adminForm');
    if (adminForm) {
        adminForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const username = document.getElementById('adminUsername').value;
            const password = document.getElementById('adminPassword').value;
            const confirmPassword = document.getElementById('adminConfirmPassword').value;
            const name = document.getElementById('adminName').value;
            const role = document.getElementById('adminRole').value;
            const status = document.getElementById('adminStatus').value;
            
            // ìœ íš¨ì„± ê²€ì‚¬
            if (!editingAdminId && !password) {
                alert('ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            if (password && password.length < 8) {
                alert('ë¹„ë°€ë²ˆí˜¸ëŠ” 8ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.');
                return;
            }
            
            if (password && password !== confirmPassword) {
                alert('ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');
                return;
            }
            
            // ì•„ì´ë”” ì¤‘ë³µ ì²´í¬
            const existingAdmin = admins.find(a => 
                a.username === username && a.id !== editingAdminId
            );
            
            if (existingAdmin) {
                alert('ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì•„ì´ë””ì…ë‹ˆë‹¤.');
                return;
            }
            
            const formData = {
                username: username,
                name: name,
                role: role,
                status: status
            };
            
            if (password) {
                formData.password = password;
            }
            
            if (editingAdminId) {
                // ìˆ˜ì •
                const index = admins.findIndex(a => a.id === editingAdminId);
                admins[index] = { ...admins[index], ...formData };
                alert('ê´€ë¦¬ì ì •ë³´ê°€ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.');
            } else {
                // ìƒˆë¡œ ì¶”ê°€
                const newId = Math.max(...admins.map(a => a.id), 0) + 1;
                admins.push({ 
                    id: newId, 
                    ...formData,
                    createdDate: new Date().toISOString().split('T')[0],
                    lastLogin: null
                });
                alert('ìƒˆ ê´€ë¦¬ìê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.');
            }
            
            localStorage.setItem('admins', JSON.stringify(admins));
            loadAdmins();
            closeAdminModal();
        });
    }
}


    </script>

</html>

